- 怎样实现主机到主机的通信服务的
	- 用于构造网络层分组交付的方法，即数据报模式和虚电路模式
- 网络层的功能
	- 转发功能：涉及分组在单一的路由器中从一条入链路到一条出链路的传送
	- 路由选择功能：一个网络的所有路由器，它们经路由选择协议共同交互，以决定分组从源到目的结点所采用的路径
- 路由选择算法：发送方到接收方的好的路径（链路状态和距离矢量算法）

## 4.1概述

![image-20220107162520980](https://minyeon.oss-cn-beijing.aliyuncs.com/tenglingImg/image-20220107162520980.png)

假设H1正在向H2发送信息， H1中的网络层取得来自于H1运输层的报文段，将每个报文段封装成一个数据报，然后将数据报向相邻路由器R1发送。在接收方主机H2，网络层接收来自相邻路由器R2的数据报，提取出运输层报文段，并将其向上交付给H2的运输层

路由器的主要作用便是将数据报从入链路发到出链路



### 4.1 转发和路由选择

转发：当一个分组到达路由器的一条输入链路时，路由器必须将该分组移动到适当的输出链路

路由选择：当分组从发送方流向接收方时，网络层必须决定这些分组所采用的路由或路径。 会涉及到路由选择算法

转发与路由选择的区别：

转发是一个路由器本地动作

路由选择是指网络范围的过程，以决定分组从源到目的地所采取的端到端路径

每台路由器具有一张转发表。路由器通过检查到达分组首部字段的值来转发分组。然后使用该值在该路由器的转发表中索引查询。





![image-20220107170551024](https://minyeon.oss-cn-beijing.aliyuncs.com/tenglingImg/image-20220107170551024.png)



